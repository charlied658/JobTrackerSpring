<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Services</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<header>
    <nav>
        <a class="nav-link" href="/view/jobs">📋 Jobs</a>
        <a class="nav-link active">🗓️ Services</a>
    </nav>
</header>

<div class="schedule-header">
    <a th:href="@{/view/services(date=${#temporals.format(previousDate, 'yyyy-MM-dd')})}" class="nav-arrow">← Previous</a>
    <h2 th:text="${#temporals.format(date, 'EEEE, MMM dd yyyy')}">Today</h2>
    <a th:href="@{/view/services(date=${#temporals.format(nextDate, 'yyyy-MM-dd')})}" class="nav-arrow">Next →</a>

</div>

<div class="date-selector">
    <form th:action="@{/view/services}" method="get">
        <input type="date" name="date" th:value="${currentDate}" />
        <button type="submit">Go</button>
    </form>
</div>

<div class="service-grid">
    <div th:each="s : ${services}">
        <a class="service-tile"
           th:href="@{'/view/jobs/' + ${s.jobId}}">
            <h3 th:text="${s.jobName}">Customer</h3>
            <p th:text="${s.service.workPerformed}">Work</p>
            <small th:text="${s.service.need}">Need</small>
        </a>
    </div>
    <div th:if="${#lists.isEmpty(services)}" class="no-services">
        <p>No services for this day.</p>
    </div>
</div>
</body>
</html>
